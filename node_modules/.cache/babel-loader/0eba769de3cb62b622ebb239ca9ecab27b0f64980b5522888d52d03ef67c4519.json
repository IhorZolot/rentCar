{"ast":null,"code":"import _slicedToArray from\"/Users/igorzolotoverkh/Documents/GitHub/rentcar/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{useDispatch,useSelector}from'react-redux';import{CarItemCard}from'../../components/carItemCard/CarItemCard';import{fetchCarsThunk}from'../../redux/operations';import{selectFilteredData,selectIsLoading}from'../../redux/selectors';import{LoadMoreButton}from'../loadMoreButton/LoadMoreButton';import{CarAdvertContainerStyled,CarAdvertTrableStyled,ListItemStyled,MainContainerStyled}from'./CarAdvertsList.styled';import{Loader}from'../loader/Loader';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var CarAdvertsList=function CarAdvertsList(){var _useState=useState(8),_useState2=_slicedToArray(_useState,2),visibleAdverts=_useState2[0],setVisibleAdverts=_useState2[1];var dispatch=useDispatch();var carAdverts=useSelector(selectFilteredData);var isLoading=useSelector(selectIsLoading);useEffect(function(){dispatch(fetchCarsThunk());},[dispatch]);var handleLoadMore=function handleLoadMore(){setVisibleAdverts(function(prevVisible){return prevVisible+8;});};return/*#__PURE__*/_jsxs(MainContainerStyled,{children:[isLoading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsx(ListItemStyled,{children:carAdverts.length?carAdverts.slice(0,visibleAdverts).map(function(advert){return/*#__PURE__*/_jsx(CarAdvertContainerStyled,{children:/*#__PURE__*/_jsx(CarItemCard,{advert:advert})},advert.id);}):/*#__PURE__*/_jsx(CarAdvertTrableStyled,{children:\"There are no cars at your request\"})}),carAdverts.length>8&&carAdverts.length>visibleAdverts+8&&/*#__PURE__*/_jsx(LoadMoreButton,{onClick:handleLoadMore})]});};","map":{"version":3,"names":["React","useEffect","useState","useDispatch","useSelector","CarItemCard","fetchCarsThunk","selectFilteredData","selectIsLoading","LoadMoreButton","CarAdvertContainerStyled","CarAdvertTrableStyled","ListItemStyled","MainContainerStyled","Loader","jsx","_jsx","jsxs","_jsxs","CarAdvertsList","_useState","_useState2","_slicedToArray","visibleAdverts","setVisibleAdverts","dispatch","carAdverts","isLoading","handleLoadMore","prevVisible","children","length","slice","map","advert","id","onClick"],"sources":["/Users/igorzolotoverkh/Documents/GitHub/rentcar/src/components/carAdvertsList/CarAdvertsList.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { CarItemCard } from '../../components/carItemCard/CarItemCard'\nimport { fetchCarsThunk } from '../../redux/operations'\nimport { selectFilteredData, selectIsLoading } from '../../redux/selectors'\nimport { LoadMoreButton } from '../loadMoreButton/LoadMoreButton'\nimport {\n\tCarAdvertContainerStyled,\n\tCarAdvertTrableStyled,\n\tListItemStyled,\n\tMainContainerStyled,\n} from './CarAdvertsList.styled'\nimport { Loader } from '../loader/Loader'\nexport const CarAdvertsList = () => {\n\tconst [visibleAdverts, setVisibleAdverts] = useState(8)\n\tconst dispatch = useDispatch()\n\tconst carAdverts = useSelector(selectFilteredData)\n\tconst isLoading = useSelector(selectIsLoading)\n\n\tuseEffect(() => {\n\t\tdispatch(fetchCarsThunk())\n\t}, [dispatch])\n\n\tconst handleLoadMore = () => {\n\t\tsetVisibleAdverts(prevVisible => prevVisible + 8)\n\t}\n\treturn (\n\t\t<MainContainerStyled>\n\t\t\t{isLoading ? (\n\t\t\t\t<Loader />\n\t\t\t) : (\n\t\t\t\t<ListItemStyled>\n\t\t\t\t\t{carAdverts.length ? (\n\t\t\t\t\t\tcarAdverts.slice(0, visibleAdverts).map(advert => (\n\t\t\t\t\t\t\t<CarAdvertContainerStyled key={advert.id}>\n\t\t\t\t\t\t\t\t<CarItemCard advert={advert} />\n\t\t\t\t\t\t\t</CarAdvertContainerStyled>\n\t\t\t\t\t\t))\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<CarAdvertTrableStyled>There are no cars at your request</CarAdvertTrableStyled>\n\t\t\t\t\t)}\n\t\t\t\t</ListItemStyled>\n\t\t\t)}\n\t\t\t{carAdverts.length > 8 && carAdverts.length > visibleAdverts + 8 && <LoadMoreButton onClick={handleLoadMore} />}\n\t\t</MainContainerStyled>\n\t)\n}\n"],"mappings":"qIAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,WAAW,KAAQ,0CAA0C,CACtE,OAASC,cAAc,KAAQ,wBAAwB,CACvD,OAASC,kBAAkB,CAAEC,eAAe,KAAQ,uBAAuB,CAC3E,OAASC,cAAc,KAAQ,kCAAkC,CACjE,OACCC,wBAAwB,CACxBC,qBAAqB,CACrBC,cAAc,CACdC,mBAAmB,KACb,yBAAyB,CAChC,OAASC,MAAM,KAAQ,kBAAkB,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBACzC,MAAO,IAAM,CAAAC,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAA,CAAS,CACnC,IAAAC,SAAA,CAA4ClB,QAAQ,CAAC,CAAC,CAAC,CAAAmB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAhDG,cAAc,CAAAF,UAAA,IAAEG,iBAAiB,CAAAH,UAAA,IACxC,GAAM,CAAAI,QAAQ,CAAGtB,WAAW,CAAC,CAAC,CAC9B,GAAM,CAAAuB,UAAU,CAAGtB,WAAW,CAACG,kBAAkB,CAAC,CAClD,GAAM,CAAAoB,SAAS,CAAGvB,WAAW,CAACI,eAAe,CAAC,CAE9CP,SAAS,CAAC,UAAM,CACfwB,QAAQ,CAACnB,cAAc,CAAC,CAAC,CAAC,CAC3B,CAAC,CAAE,CAACmB,QAAQ,CAAC,CAAC,CAEd,GAAM,CAAAG,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAA,CAAS,CAC5BJ,iBAAiB,CAAC,SAAAK,WAAW,QAAI,CAAAA,WAAW,CAAG,CAAC,GAAC,CAClD,CAAC,CACD,mBACCX,KAAA,CAACL,mBAAmB,EAAAiB,QAAA,EAClBH,SAAS,cACTX,IAAA,CAACF,MAAM,GAAE,CAAC,cAEVE,IAAA,CAACJ,cAAc,EAAAkB,QAAA,CACbJ,UAAU,CAACK,MAAM,CACjBL,UAAU,CAACM,KAAK,CAAC,CAAC,CAAET,cAAc,CAAC,CAACU,GAAG,CAAC,SAAAC,MAAM,qBAC7ClB,IAAA,CAACN,wBAAwB,EAAAoB,QAAA,cACxBd,IAAA,CAACX,WAAW,EAAC6B,MAAM,CAAEA,MAAO,CAAE,CAAC,EADDA,MAAM,CAACC,EAEZ,CAAC,EAC3B,CAAC,cAEFnB,IAAA,CAACL,qBAAqB,EAAAmB,QAAA,CAAC,mCAAiC,CAAuB,CAC/E,CACc,CAChB,CACAJ,UAAU,CAACK,MAAM,CAAG,CAAC,EAAIL,UAAU,CAACK,MAAM,CAAGR,cAAc,CAAG,CAAC,eAAIP,IAAA,CAACP,cAAc,EAAC2B,OAAO,CAAER,cAAe,CAAE,CAAC,EAC3F,CAAC,CAExB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}